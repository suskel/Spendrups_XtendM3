{"programModules":{"CREXTPRT":{"program":"CREXTPRT","triggers":{"WAC_Batch_SP0029_MWS640Extension":{"name":"WAC_Batch_SP0029_MWS640Extension","method":"extendOutput","advice":"POST","active":false,"modified":1752569491609,"modifiedBy":"EXT_SK","sourceUuid":"a6d2ea81-de89-48b5-aab2-d62a9344e3e7","programName":"CREXTPRT","utilities":[],"type":"METHOD","priority":500,"market":"ALL"}},"transactions":{},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"a6d2ea81-de89-48b5-aab2-d62a9344e3e7":{"uuid":"a6d2ea81-de89-48b5-aab2-d62a9344e3e7","updated":1752570805327,"updatedBy":"EXT_SK","created":1752569491609,"createdBy":"EXT_SK","apiVersion":"UNKNOWN","beVersion":"16.0.0.20250521011729.6","language":"GROOVY","codeHash":"ED7B686E8B901738DEE3E4E98595A1B29FD6BC52FB233AFD2EFFD68680FB5A4D","code":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiBFeHRlbnNpb24gTmFtZTogQ1JFWFRQUlQvV0FDX0JhdGNoX1NQMDAyOV9NV1M2NDBFeHRlbnNpb24NCiBUeXBlOiBFeHRlbmRNM1RyYW5zYWN0aW9uDQogU2NyaXB0IEF1dGhvcjogU3VzYW5uYSBLZWxsYW5kZXIgLSBFbHZlbml0ZQ0KIERhdGU6IDIwMjUtMDEtMzANCiBEZXNjcmlwdGlvbjogRXh0ZW5zaW9uIGluIFhNTE9VVCwgc2V2ZXJhbCBkb2N1bWVudA0KIA0KDQogUmV2aXNpb24gSGlzdG9yeToNCiBOYW1lICAgICAgICAgICAgICAgICAgICBEYXRlICAgICAgICAgICAgIFZlcnNpb24gICAgICAgICAgRGVzY3JpcHRpb24gb2YgQ2hhbmdlcw0KIFN1c2FubmEgS2VsbGFuZGVyICAgICAgIDIwMjUtMDEtMzAgICAgICAgMS4wICAgICAgICAgICAgICBTUDAwMjkgLSBBZGRlZCBpbmZvcm1hdGlvbiBpbiBNV1M2NDBQRiAgDQoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWUNCmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyDQpwdWJsaWMgY2xhc3MgV0FDX0JhdGNoX1NQMDAyOV9NV1M2NDBFeHRlbnNpb24gZXh0ZW5kcyBFeHRlbmRNM1RyaWdnZXIgew0KICBwcml2YXRlIGZpbmFsIE1ldGhvZEFQSSBtZXRob2QNCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQ0KICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbSANCiAgcHJpdmF0ZSBmaW5hbCBMb2dnZXJBUEkgbG9nZ2VyICANCiAgcHJpdmF0ZSBmaW5hbCBTZXNzaW9uQVBJIHNlc3Npb24gDQogIA0KICAvLyBDb21tb24NCiAgaW50IGNvbXBhbnkNCiAgU3RyaW5nIHByaW50ZXJGaWxlICANCiAgU3RyaW5nIGpvYk51bWJlciAgICAgIA0KICBTdHJpbmcgc3RydWN0dXJlICAgDQogIGludCB2YXJpYW50ICAgICAgIA0KICBpbnQgcnBiayAgICAgICAgICAgIA0KICBIYXNoTWFwPFN0cmluZywgT2JqZWN0PiBmaWVsZE1hcA0KICANCiAgLy8gTVdTNjQwUEYgDQogIFN0cmluZyB3YXJlaG91c2UgPSAiIg0KICBTdHJpbmcgaXRlbU51bWJlciA9ICIiICAgICAgICANCiAgaW50IHNoaXBtZW50ID0gMA0KICBsb25nIGRlbGl2ZXJ5ID0gMCANCiAgU3RyaW5nIHBhY2thZ2luZyA9ICIiDQogIGRvdWJsZSBkZWxpdmVyeVF0eSA9IDAgIA0KICBTdHJpbmdbXSBhcnJheUl0ZW0gPSBuZXcgU3RyaW5nWzk5OTldDQogIGludFtdIGFycmF5TmJyT2ZJdGVtID0gbmV3IGludFs5OTk5XQ0KICBpbnQgbnVtYmVyT2ZDVUdFWDEgPSAwDQogIGludCBjb3VudGVyID0gMA0KICBpbnQgYXJyYXlJbmRleCA9IDANCiAgaW50IHNlcXVlbmNlID0gMSAgICAgICAgICAvLyBmaXggdmFsdWUgdG8gYmUgYWJsZSB0byAibGlzdCBhbGwiIGluIGEgY3VzdG9tIHNlY3Rpb24gDQogIFN0cmluZ1tdIGFycmF5SXRlbVdpdGhVTiA9IG5ldyBTdHJpbmdbOTk5OV0NCiAgaW50W10gYXJyYXlVTk51bWJlciA9IG5ldyBpbnRbOTk5OV0NCiAgZG91YmxlW10gYXJyYXlHcm9zc1dlaWdodCA9IG5ldyBkb3VibGVbOTk5OV0NCiAgZG91YmxlW10gYXJyYXlEZWxpdmVyeVF0eSA9IG5ldyBkb3VibGVbOTk5OV0NCiAgaW50IGNvdW50ZXJVTiA9IDAgDQogIFN0cmluZ1tdIGFycmF5SXRlbVR5cGVFeGNsdWRlZCA9IG5ldyBTdHJpbmdbNTBdDQogIGludCBjb3VudGVyRXhjID0gMCANCiAgZG91YmxlIGFjY05vdEluY2x1ZGVkID0gMCAgDQogIA0KCU1hcDxTdHJpbmcsIERCQ29udGFpbmVyPiBjYWNoZWRQYWNrYWdlID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBEQkNvbnRhaW5lcj4oKQ0KCU1hcDxTdHJpbmcsIERCQ29udGFpbmVyPiBjYWNoZWRDdWdleDEgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIERCQ29udGFpbmVyPigpDQoNCiANCiAgDQogIGludCBlbnRyeURhdGUgPSAwDQogIGludCBlbnRyeVRpbWUgPSAwIA0KDQogIHB1YmxpYyBXQUNfQmF0Y2hfU1AwMDI5X01XUzY0MEV4dGVuc2lvbihNZXRob2RBUEkgbWV0aG9kLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBMb2dnZXJBUEkgbG9nZ2VyLCBTZXNzaW9uQVBJIHNlc3Npb24pIHsNCiAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZCANCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UNCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtIA0KICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyICANCiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uDQogIH0NCg0KICBwdWJsaWMgdm9pZCBtYWluKCkgew0KICAgIC8vIEdldCBpbmZvcm1hdGlvbiBmcm9tIFhNTE9VVA0KICAgIHByaW50ZXJGaWxlID0gbWV0aG9kLmdldEFyZ3VtZW50KDApIGFzIFN0cmluZw0KICAgIGpvYk51bWJlciA9IG1ldGhvZC5nZXRBcmd1bWVudCgxKSBhcyBTdHJpbmcNCiAgICBzdHJ1Y3R1cmUgPSBtZXRob2QuZ2V0QXJndW1lbnQoMikgYXMgU3RyaW5nDQogICAgdmFyaWFudCA9IG1ldGhvZC5nZXRBcmd1bWVudCgzKSBhcyBpbnQNCiAgICBycGJrPSBtZXRob2QuZ2V0QXJndW1lbnQoNCkgYXMgaW50IA0KICAgIEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+IGZpZWxkTWFwID0gbWV0aG9kLmdldEFyZ3VtZW50KDUpIGFzIEhhc2hNYXANCiAgICAgDQogICAgDQogICAgbG9nZ2VyLmRlYnVnKCJMT0dHQSBwcmludGVyRmlsZSAiICsgcHJpbnRlckZpbGUgKyAiIHN0cnVjdHVyZSAiICsgc3RydWN0dXJlICsgIiAgcnBiayAiICsgcnBiayApDQogICAgDQogICAgaWYocHJpbnRlckZpbGUuZXF1YWxzKCJNV1M2NDBQRiIpICYmIHN0cnVjdHVyZS5lcXVhbHMoIkNVU19TUF8wMS0wMSIpICYmIHJwYmsgPT0gNil7IA0KICAgICAgY3JlYXRlVG9NV1M2NDAoZmllbGRNYXApDQogICAgfQ0KICAgDQogIH0NCiAgDQogICAgDQogIC8qDQogICAgIGNyZWF0ZSBmb3IgcHJpbnRvdXQgZm9yIE1XUzY0MFBGDQogICovDQogIHB1YmxpYyB2b2lkIGNyZWF0ZVRvTVdTNjQwKEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+IGZpZWxkTWFwKXsNCiAgICByZXRyaWV2ZUlucHV0UGFyYW1ldGVycygpDQogICAgc2hpcG1lbnQgPSBmaWVsZE1hcC5nZXQoIkRBQ09OTiIpIGFzIGludA0KICAgIGRlbGV0ZVJlY29yZEZvclNoaXBtZW50KCkNCiAgICBnZXRVTkZyb21NSVRNQVMoKQ0KICAgIGdldENVR0VYMVNlY29uZCgiTUlUVFRZIikgDQogICAgbG9vcE1IRElTSChzaGlwbWVudCkgIA0KICAgIGNyZWF0ZUVYVDY0MCgpDQogICAgY3JlYXRlRVhUNjRMKCkNCiAgICBjcmVhdGVFWFQ2NEQoKQ0KICB9IA0KICANCiAgDQogIA0KICAvKg0KICAgICBEZWxldGUgcmVjb3JkIGluIEVYVDY0MCAgIC8vIE1XUzY0MFBGDQoJKi8NCiAgcHVibGljIHZvaWQgZGVsZXRlUmVjb3JkRm9yU2hpcG1lbnQoKXsgICANCiAgICANCiAgICBkZWxldGVSZWNvcmRJbkVYVDY0MCgpDQogICAgZGVsZXRlUmVjb3JkSW5FWFQ2NEwoKQ0KICAgIGRlbGV0ZVJlY29yZEluRVhUNjREKCkNCiAgfSANCiAgIA0KICANCiAgLyoNCiAgICAgRGVsZXRlIHJlY29yZCBpbiBFWFQ2NDAgICAgICAgICAgICAvLyBNV1M2NDBQRg0KCSovDQogIHB1YmxpYyB2b2lkIGRlbGV0ZVJlY29yZEluRVhUNjQwKCl7ICAgDQogICAgICBEQkFjdGlvbiBkYmFFWFQ2NDAgPSBkYXRhYmFzZS50YWJsZSgiRVhUNjQwIikuaW5kZXgoIjAwIikuYnVpbGQoKSAgDQogICAgICBEQkNvbnRhaW5lciBjb25FWFQ2NDAgPSBkYmFFWFQ2NDAuZ2V0Q29udGFpbmVyKCkNCiAgICAgIGNvbkVYVDY0MC5zZXQoIkVYQ09OTyIsIGNvbXBhbnkpDQogICAgICBjb25FWFQ2NDAuc2V0KCJFWENPTk4iLCBzaGlwbWVudCkgDQogICAgICBkYmFFWFQ2NDAucmVhZEFsbChjb25FWFQ2NDAsIDIsIDEwMCwgcmVzdWx0SGFuZGxlckZvckVYVDY0MCkgIA0KICB9ICAgDQogICAgDQogIENsb3N1cmU8Pz4gcmVzdWx0SGFuZGxlckZvckVYVDY0MCA9IHsgREJDb250YWluZXIgY29uRVhUNjQwIC0+ICAgDQogICAgICBEQkFjdGlvbiBkYmFFWFQ2NDAgPSBkYXRhYmFzZS50YWJsZSgiRVhUNjQwIikuaW5kZXgoIjAwIikuYnVpbGQoKSAgDQogICAgICBEQkNvbnRhaW5lciBjb25FWFQ2NDBEbHQgPSBkYmFFWFQ2NDAuZ2V0Q29udGFpbmVyKCkNCiAgICAgIGNvbkVYVDY0MERsdC5zZXQoIkVYQ09OTyIsIGNvbXBhbnkpDQogICAgICBjb25FWFQ2NDBEbHQuc2V0KCJFWENPTk4iLCBzaGlwbWVudCkgDQogICAgICBjb25FWFQ2NDBEbHQuc2V0KCJFWFNFUU4iLCBjb25FWFQ2NDAuZ2V0SW50KCJFWFNFUU4iKSkgDQogICAgICBkYmFFWFQ2NDAucmVhZExvY2soY29uRVhUNjQwRGx0LCBkZWxldGVyQ2FsbGJhY2s2NDApIA0KICB9DQoNCg0KICBDbG9zdXJlPD8+IGRlbGV0ZXJDYWxsYmFjazY0MCA9IHsgTG9ja2VkUmVzdWx0IGxvY2tlZFJlc3VsdCAtPiANCiAgICBsb2NrZWRSZXN1bHQuZGVsZXRlKCkNCiAgfQ0KICAgDQogIC8qDQogICAgIERlbGV0ZSByZWNvcmQgaW4gIEVYVDY0MEwgICAgICAvLyBNV1M2NDBQRg0KCSovDQogIHB1YmxpYyB2b2lkIGRlbGV0ZVJlY29yZEluRVhUNjRMKCl7ICAgDQogICAgICBEQkFjdGlvbiBkYmFFWFQ2NEwgPSBkYXRhYmFzZS50YWJsZSgiRVhUNjRMIikuaW5kZXgoIjAwIikuYnVpbGQoKSAgDQogICAgICBEQkNvbnRhaW5lciBjb25FWFQ2NEwgPSBkYmFFWFQ2NEwuZ2V0Q29udGFpbmVyKCkNCiAgICAgIGNvbkVYVDY0TC5zZXQoIkVYQ09OTyIsIGNvbXBhbnkpDQogICAgICBjb25FWFQ2NEwuc2V0KCJFWENPTk4iLCBzaGlwbWVudCkgDQogICAgICBkYmFFWFQ2NEwucmVhZEFsbChjb25FWFQ2NEwsIDIsIDEwMCwgcmVzdWx0SGFuZGxlckZvckVYVDY0TCkgIA0KICB9ICAgDQogICAgDQogIENsb3N1cmU8Pz4gcmVzdWx0SGFuZGxlckZvckVYVDY0TCA9IHsgREJDb250YWluZXIgY29uRVhUNjRMIC0+ICAgDQogICAgICBEQkFjdGlvbiBkYmFFWFQ2NEwgPSBkYXRhYmFzZS50YWJsZSgiRVhUNjQwIikuaW5kZXgoIjAwIikuYnVpbGQoKSAgDQogICAgICBEQkNvbnRhaW5lciBjb25FWFQ2NExEbHQgPSBkYmFFWFQ2NEwuZ2V0Q29udGFpbmVyKCkNCiAgICAgIGNvbkVYVDY0TERsdC5zZXQoIkVYQ09OTyIsIGNvbXBhbnkpDQogICAgICBjb25FWFQ2NExEbHQuc2V0KCJFWENPTk4iLCBzaGlwbWVudCkgDQogICAgICBjb25FWFQ2NExEbHQuc2V0KCJFWElUTk8iLCBjb25FWFQ2NEwuZ2V0SW50KCJFWElUTk8iKSkgDQogICAgICBkYmFFWFQ2NEwucmVhZExvY2soY29uRVhUNjRMRGx0LCBkZWxldGVyQ2FsbGJhY2s2NEwpIA0KICB9IA0KDQoNCiAgQ2xvc3VyZTw/PiBkZWxldGVyQ2FsbGJhY2s2NEwgPSB7IExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4gDQogICAgbG9ja2VkUmVzdWx0LmRlbGV0ZSgpDQogIH0NCiAgDQogIC8qDQogICAgIERlbGV0ZSByZWNvcmQgaW4gIEVYVDY0RCAgICAgIC8vIE1XUzY0MFBGDQoJKi8NCiAgcHVibGljIHZvaWQgZGVsZXRlUmVjb3JkSW5FWFQ2NEQoKXsgICANCiAgICAgIERCQWN0aW9uIGRiYUVYVDY0RCA9IGRhdGFiYXNlLnRhYmxlKCJFWFQ2NEQiKS5pbmRleCgiMDAiKS5idWlsZCgpICANCiAgICAgIERCQ29udGFpbmVyIGNvbkVYVDY0RCA9IGRiYUVYVDY0RC5nZXRDb250YWluZXIoKQ0KICAgICAgY29uRVhUNjRELnNldCgiRVhDT05PIiwgY29tcGFueSkgIA0KICAgICAgY29uRVhUNjRELnNldCgiRVhDT05OIiwgc2hpcG1lbnQpIA0KICAgICAgZGJhRVhUNjRELnJlYWRBbGwoY29uRVhUNjRELCAyLCAxMDAsIHJlc3VsdEhhbmRsZXJGb3JFWFQ2NEQpICANCiAgfSAgIA0KICAgIA0KICBDbG9zdXJlPD8+IHJlc3VsdEhhbmRsZXJGb3JFWFQ2NEQgPSB7IERCQ29udGFpbmVyIGNvbkVYVDY0RCAtPiAgIA0KICAgICAgREJBY3Rpb24gZGJhRVhUNjREID0gZGF0YWJhc2UudGFibGUoIkVYVDY0MCIpLmluZGV4KCIwMCIpLmJ1aWxkKCkgIA0KICAgICAgREJDb250YWluZXIgY29uRVhUNjRERGx0ID0gZGJhRVhUNjRELmdldENvbnRhaW5lcigpDQogICAgICBjb25FWFQ2NEREbHQuc2V0KCJFWENPTk8iLCBjb21wYW55KQ0KICAgICAgY29uRVhUNjRERGx0LnNldCgiRVhDT05OIiwgc2hpcG1lbnQpIA0KICAgICAgY29uRVhUNjRERGx0LnNldCgiRVhTRVFOIiwgY29uRVhUNjRELmdldEludCgiRVhTRVFOIikpICANCiAgICAgIGRiYUVYVDY0RC5yZWFkTG9jayhjb25FWFQ2NEREbHQsIGRlbGV0ZXJDYWxsYmFjazY0RCkgDQogIH0gDQoNCiAgQ2xvc3VyZTw/PiBkZWxldGVyQ2FsbGJhY2s2NEQgPSB7IExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4gDQogICAgbG9ja2VkUmVzdWx0LmRlbGV0ZSgpDQogIH0NCiAgDQogICAgIA0KICAvKg0KICAgICBMaXN0IE1IRElTSCAgICAvLyBNV1M2NDBQRg0KICAqLw0KICBwdWJsaWMgdm9pZCBsb29wTUhESVNIKGludCBpbkNPTk4pew0KICAgICAgICAgDQogICAgREJBY3Rpb24gZGJhTUhESVNIID0gZGF0YWJhc2UudGFibGUoIk1IRElTSCIpLnNlbGVjdGlvbigiT1FETElYIiwgIk9RV0hMTyIpLmluZGV4KCIyMCIpLmJ1aWxkKCkgICANCiAgICBEQkNvbnRhaW5lciBjb25NSERJU0ggPSBkYmFNSERJU0guZ2V0Q29udGFpbmVyKCkNCiAgICBjb25NSERJU0guc2V0KCJPUUNPTk8iLCBjb21wYW55KSAgIA0KICAgIGNvbk1IRElTSC5zZXQoIk9RSU5PVSIsIDEpICAgDQogICAgY29uTUhESVNILnNldCgiT1FDT05OIiwgaW5DT05OKSAgIA0KICAgIGRiYU1IRElTSC5yZWFkQWxsKGNvbk1IRElTSCwgMywgMTAwLCByZXN1bHRIYW5kbGVyRm9yTUhESVNIKSAgDQogIH0gICANCiAgICANCiAgQ2xvc3VyZTw/PiByZXN1bHRIYW5kbGVyRm9yTUhESVNIID0geyBEQkNvbnRhaW5lciBjb25NSERJU0ggLT4gICANCiAgICAgZGVsaXZlcnkgPSBjb25NSERJU0guZ2V0TG9uZygiT1FETElYIikgICANCiAgICAgd2FyZWhvdXNlID0gY29uTUhESVNILmdldFN0cmluZygiT1FXSExPIikgIA0KICAgICBsb29wTVBUUk5TKHdhcmVob3VzZSwgZGVsaXZlcnkpICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZyb20gTUhESVNILCBFWDY0MCBhbmQgRVhUNjRMIA0KICAgICBsb29wTUZUUk5TKHdhcmVob3VzZSwgZGVsaXZlcnkpICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZyb20gTUhESVNILCBFWFQ2NEQNCiAgIA0KICAgICANCiAgfQ0KICANCiAgICANCgkvKg0KICAgIEdldCB2YWx1ZSBmcm9tIE1QVFJOUyAgICAgICAgICAgICAvLyBNV1M2NDBQRg0KICAqLw0KICBwdWJsaWMgdm9pZCBsb29wTVBUUk5TKFN0cmluZyBpbldITE8sIGxvbmcgaW5ETElYKSB7ICANCiAgICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk1QVFJOUyIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiT1JQQUNUIiwgIk9SRExRVCIpLmJ1aWxkKCkNCiAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpDQogICAgICBjb250YWluZXIuc2V0KCJPUkNPTk8iLCBjb21wYW55KQ0KICAgICAgY29udGFpbmVyLnNldCgiT1JESVBBIiwgMCkgDQogICAgICBjb250YWluZXIuc2V0KCJPUldITE8iLCBpbldITE8pIA0KICAgICAgY29udGFpbmVyLnNldCgiT1JETElYIiwgaW5ETElYKSANCiAgICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCA0LCAxMDAwLCByZWxlYXNlZEl0ZW1Qcm9jZXNzb3JNUFRSTlMpICAgICANCiAgfQ0KICANCiAgQ2xvc3VyZTw/PiByZWxlYXNlZEl0ZW1Qcm9jZXNzb3JNUFRSTlMgPSB7IERCQ29udGFpbmVyIGNvbnRhaW5lciAgLT4gICANCiAgICAgIHBhY2thZ2luZyA9IGNvbnRhaW5lci5nZXRTdHJpbmcoIk9SUEFDVCIpICANCiAgICAgIGRlbGl2ZXJ5UXR5ID0gZGVsaXZlcnlRdHkgKyAoZG91YmxlKWNvbnRhaW5lci5nZXREb3VibGUoIk9SRExRVCIpICANCiAgICAgIA0KICAgICAgZ2V0TUlUUEFDKHBhY2thZ2luZykgICAgICAgICAgICAgLy8gZnJvbSBNUFRSTlMNCiAgICAgIGdldENVR0VYMSgiTUlUUEFDIiwgcGFja2FnaW5nKQ0KICB9ICANCiAgDQogICAgDQoJLyoNCiAgICBHZXQgdmFsdWUgZnJvbSBNRlRSTlMgICAgICAgICAgICAgLy8gTVdTNjQwUEYNCiAgKi8NCiAgcHVibGljIHZvaWQgbG9vcE1GVFJOUyhTdHJpbmcgaW5XSExPLCBsb25nIGluRExJWCkgeyAgDQogICAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJNRlRSTlMiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIk9TR1JXRSIsICJPU0RMUVQiLCAiT1NJVE5PIikuYnVpbGQoKQ0KICAgICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkNCiAgICAgIGNvbnRhaW5lci5zZXQoIk9TQ09OTyIsIGNvbXBhbnkpIA0KICAgICAgY29udGFpbmVyLnNldCgiT1NXSExPIiwgaW5XSExPKSANCiAgICAgIGNvbnRhaW5lci5zZXQoIk9TRExJWCIsIGluRExJWCkgDQogICAgICBxdWVyeS5yZWFkQWxsKGNvbnRhaW5lciwgMywgMTAwMCwgcmVsZWFzZWRJdGVtUHJvY2Vzc29yTUZUUk5TKSAgICAgDQogIH0NCiAgDQogIENsb3N1cmU8Pz4gcmVsZWFzZWRJdGVtUHJvY2Vzc29yTUZUUk5TID0geyBEQkNvbnRhaW5lciBjb250YWluZXIgIC0+ICANCiAgICAgaWYoYXJyYXlJdGVtV2l0aFVOLmNvbnRhaW5zKGNvbnRhaW5lci5nZXRTdHJpbmcoIk9TSVROTyIpLnRvU3RyaW5nKCkpKXsgICAgICAgICAgDQogICAgICAgYXJyYXlJbmRleCA9IGFycmF5SXRlbVdpdGhVTi5maW5kSW5kZXhPZntpdCA9PSBjb250YWluZXIuZ2V0U3RyaW5nKCJPU0lUTk8iKS50b1N0cmluZygpfQ0KICAgICAgIGlmKGFycmF5SW5kZXggPj0gMCl7DQogICAgICAgICBhcnJheUdyb3NzV2VpZ2h0W2FycmF5SW5kZXhdKz0gKGRvdWJsZSljb250YWluZXIuZ2V0RG91YmxlKCJPU0dSV0UiKSAgICAgICAgICAgIC8vIGFjY3VtdWxhdGUgR1JXRSBmb3IgbGF0ZXIgY2FsY3VsYXRpb24NCiAgICAgICAgIGFycmF5RGVsaXZlcnlRdHlbYXJyYXlJbmRleF0rPSAoZG91YmxlKWNvbnRhaW5lci5nZXREb3VibGUoIk9TRExRVCIpICAgICAgICAgICAgLy8gYWNjdW11bGF0ZSBETFFUIGZvciBsYXRlciBjYWxjdWxhdGlvbiANCiAgICAgIH0NCiAgICB9IA0KICAgIGlmKGFycmF5SXRlbVR5cGVFeGNsdWRlZC5jb250YWlucyhnZXRNSVRNQVMoY29udGFpbmVyLmdldFN0cmluZygiT1NJVE5PIikudG9TdHJpbmcoKSkpKXsgDQogICAgICBhY2NOb3RJbmNsdWRlZCArPSAoZG91YmxlKWNvbnRhaW5lci5nZXREb3VibGUoIk9TRExRVCIpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4Y2x1ZGUgRExRVCBmb3IgSXRlbSB3aXRoIEl0ZW1UeXBlIG1hcmtlZCBpbiBDUlMwNDAvQ1VHRVgxDQogICAgfSANCiAgfSAgDQogIA0KICANCiAgLyoNCiAgICBHZXQgdmFsdWUgZnJvbSBNSVRQQUMgICAgICAgICAgLy8gTVdTNjQwUEYNCiAgKi8NCiAgcHVibGljIHZvaWQgZ2V0TUlUUEFDKFN0cmluZyBpblBBQ1QpIHsgIA0KICAgIFN0cmluZyBrZXkgPSBpblBBQ1QNCg0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lcg0KICAgIGJvb2xlYW4gZm91bmQNCiAgICBpZiAoY2FjaGVkUGFja2FnZS5jb250YWluc0tleShrZXkpKSB7DQogICAgICAgY29udGFpbmVyID0gY2FjaGVkUGFja2FnZS5nZXQoa2V5KQ0KICAgICAgIGZvdW5kID0gdHJ1ZQ0KICAgIH0gZWxzZSB7DQogICAgICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTUlUUEFDIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJNNElUTk8iKS5idWlsZCgpDQogICAgICAgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkNCiAgICAgICBjb250YWluZXIuc2V0KCJNNENPTk8iLCBjb21wYW55KQ0KICAgICAgIGNvbnRhaW5lci5zZXQoIk00UEFDVCIsIGluUEFDVCkgDQogICAgICAgZm91bmQgPSBxdWVyeS5yZWFkKGNvbnRhaW5lcikNCiAgICAgICBpZiAoZm91bmQpew0KICAgICAgICAgY2FjaGVkUGFja2FnZS5wdXQoa2V5LCBjb250YWluZXIpDQogICAgICAgfSAgDQogICAgfQ0KDQogICAgDQogICAgaWYgKCFmb3VuZCkgew0KICAgICAgcmV0dXJuICANCiAgICB9IA0KICAgIGlmKCFhcnJheUl0ZW0uY29udGFpbnMoY29udGFpbmVyLmdldFN0cmluZygiTTRJVE5PIikudG9TdHJpbmcoKSkpeyANCiAgICAgIGFycmF5SXRlbVtjb3VudGVyXSA9IGNvbnRhaW5lci5nZXRTdHJpbmcoIk00SVROTyIpLnRvU3RyaW5nKCkgICAgICAgICAgIC8vIHNhdmUgaXRlbSBhbmQgbnVtYmVyIG9mIHJlY29yZHMNCiAgICAgIGFycmF5TmJyT2ZJdGVtW2NvdW50ZXJdID0gMQ0KICAgICAgY291bnRlcisrDQogICAgfWVsc2V7IA0KICAgICAgYXJyYXlJbmRleCA9IGFycmF5SXRlbS5maW5kSW5kZXhPZntpdCA9PSBjb250YWluZXIuZ2V0U3RyaW5nKCJNNElUTk8iKS50b1N0cmluZygpfQ0KICAgICAgaWYoYXJyYXlJbmRleCA+PSAwKXsNCiAgICAgICAgIGFycmF5TmJyT2ZJdGVtW2FycmF5SW5kZXhdKysNCiAgICAgIH0NCiAgICB9DQogICAgDQogICAgcmV0dXJuIA0KICB9IA0KICANCiAgIA0KCS8qDQogICAgR2V0IHZhbHVlIGZyb20gQ1VHRVgxIGFuZCBPT0RGTFQgICAgICAgLy8gTVdTNjQwUEYNCiAgKi8NCiAgcHVibGljIHZvaWQgZ2V0Q1VHRVgxKFN0cmluZyBpbkZJTEUsIFN0cmluZyBpblBLMDEpIHsgIA0KICAgIFN0cmluZyBrZXkgPSBpbkZJTEUgKyBpblBLMDENCg0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lcg0KICAgIGJvb2xlYW4gZm91bmQNCiAgICBpZiAoY2FjaGVkQ3VnZXgxLmNvbnRhaW5zS2V5KGtleSkpIHsNCiAgICAgICBjb250YWluZXIgPSBjYWNoZWRDdWdleDEuZ2V0KGtleSkNCiAgICAgICBmb3VuZCA9IHRydWUNCiAgICB9IGVsc2Ugew0KICAgICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkNVR0VYMSIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiRjFDSEIxIikuYnVpbGQoKQ0KICAgICAgIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpDQogICAgICAgY29udGFpbmVyLnNldCgiRjFDT05PIiwgY29tcGFueSkNCiAgICAgICBjb250YWluZXIuc2V0KCJGMUZJTEUiLCBpbkZJTEUpIA0KICAgICAgIGNvbnRhaW5lci5zZXQoIkYxUEswMSIsIGluUEswMSkgDQogICAgICAgcXVlcnkucmVhZEFsbChjb250YWluZXIsIDMsIDEsIHJlbGVhc2VkSXRlbVByb2Nlc3NvckNVR0VYMSkgICAgDQogICAgICAgaWYgKGZvdW5kKXsNCiAgICAgICAgIGNhY2hlZEN1Z2V4MS5wdXQoa2V5LCBjb250YWluZXIpDQogICAgICAgfQ0KICAgIH0NCg0KICB9DQogIA0KICBDbG9zdXJlPD8+IHJlbGVhc2VkSXRlbVByb2Nlc3NvckNVR0VYMSA9IHsgREJDb250YWluZXIgY29udGFpbmVyICAtPiAgIA0KICAgIGlmKChpbnQpY29udGFpbmVyLmdldEludCgiRjFDSEIxIikgPT0gMSl7IA0KICAgICAgbnVtYmVyT2ZDVUdFWDErKw0KICAgICAgDQogICAgfQ0KICB9IA0KICAgIA0KCS8qDQogICAgR2V0IHZhbHVlIGZyb20gQ1VHRVgxIGFuZCBNSVRUVFkgICAgICAgLy8gTVdTNjQwUEYNCiAgKi8NCiAgcHVibGljIHZvaWQgZ2V0Q1VHRVgxU2Vjb25kKFN0cmluZyBpbkZJTEUpIHsgIA0KICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cCA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJDVUdFWDEiKSANCiAgICBleHAgPSBleHAuZXEoIkYxQ0hCMyIsICIxIikgIA0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkNVR0VYMSIpLmluZGV4KCIwMCIpLm1hdGNoaW5nKGV4cCkuc2VsZWN0aW9uKCJGMVBLMDIiKS5idWlsZCgpDQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkNCiAgICBjb250YWluZXIuc2V0KCJGMUNPTk8iLCBjb21wYW55KQ0KICAgIGNvbnRhaW5lci5zZXQoIkYxRklMRSIsIGluRklMRSkgIA0KICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCAyLCA1MCwgcmVsZWFzZWRJdGVtUHJvY2Vzc29yQ1VHRVgxU2Vjb25kKSAgICANCiAgICANCiAgfQ0KICANCiAgQ2xvc3VyZTw/PiByZWxlYXNlZEl0ZW1Qcm9jZXNzb3JDVUdFWDFTZWNvbmQgPSB7IERCQ29udGFpbmVyIGNvbnRhaW5lciAgLT4gICANCiAgIGlmKCFhcnJheUl0ZW1UeXBlRXhjbHVkZWQuY29udGFpbnMoY29udGFpbmVyLmdldFN0cmluZygiRjFQSzAyIikpKSB7IA0KICAgICBhcnJheUl0ZW1UeXBlRXhjbHVkZWRbY291bnRlckV4Y10gPSBjb250YWluZXIuZ2V0U3RyaW5nKCJGMVBLMDIiKSAgICANCiAgICAgY291bnRlckV4YysrIA0KICAgfQ0KICB9DQogIA0KICANCiAgIA0KICAvKg0KICAgIEdldCBhbGwgVU4gbnVtYmVyIGZyb20gTUlUTUFTLCB0byBiZSBjb21wYXJlZCBsYXRlciAgICAgICAgICAvLyBNV1M2NDBQRg0KICAgIFRoZXkgYXJlIGZldywgYW5kIHRoaXMgd2F5IGJlIG1vcmUgZWZmaWNpYW50IA0KICAqLw0KICBwdWJsaWMgdm9pZCBnZXRVTkZyb21NSVRNQVMoKSB7ICANCiAgICBFeHByZXNzaW9uRmFjdG9yeSBleHAgPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiTUlUTUFTIikgDQogICAgZXhwID0gZXhwLm5lKCJNTVVOTk4iLCAiMCIpIA0KICAgIGV4cCA9IGV4cC5hbmQoZXhwLmdlKCJNTVNUQVQiLCAiMjAiKSkNCiAgICBleHAgPSBleHAuYW5kKGV4cC5sZSgiTU1TVEFUIiwgIjgwIikpDQogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTUlUTUFTIikuaW5kZXgoIjAwIikubWF0Y2hpbmcoZXhwKS5zZWxlY3Rpb24oIk1NSVROTyIsICJNTVVOTk4iKS5idWlsZCgpDQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkNCiAgICBjb250YWluZXIuc2V0KCJNTUNPTk8iLCBjb21wYW55KSANCiAgICBxdWVyeS5yZWFkQWxsKGNvbnRhaW5lciwgMSwgMTAwLCByZXN1bHRIYW5kbGVyRm9yTUlUTUFTKSAgDQogIH0gICANCiAgICANCiAgQ2xvc3VyZTw/PiByZXN1bHRIYW5kbGVyRm9yTUlUTUFTID0geyBEQkNvbnRhaW5lciBjb250YWluZXIgLT4gICAgIA0KICAgICBhcnJheUl0ZW1XaXRoVU5bY291bnRlclVOXSA9IGNvbnRhaW5lci5nZXRTdHJpbmcoIk1NSVROTyIpDQogICAgIGFycmF5VU5OdW1iZXJbY291bnRlclVOXSA9IGNvbnRhaW5lci5nZXRJbnQoIk1NVU5OTiIpIA0KICAgICBjb3VudGVyVU4rKyANCiAgICANCiAgICAgIA0KICB9DQogICAgDQogIC8qDQogICAgR2V0IGluZm9ybWF0aW9uIGZyb20gTUlUTUFTICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1XUzY0MFBGIA0KICAqLw0KICBTdHJpbmcgZ2V0TUlUTUFTKFN0cmluZyBpbklUTk8pIHsgICANCiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJNSVRNQVMiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIk1NSVRUWSIpLmJ1aWxkKCkNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQ0KICAgIGNvbnRhaW5lci5zZXQoIk1NQ09OTyIsIGNvbXBhbnkpIA0KICAgIGNvbnRhaW5lci5zZXQoIk1NSVROTyIsIGluSVROTykgDQogICAgYm9vbGVhbiBmb3VuZCA9IHF1ZXJ5LnJlYWQoY29udGFpbmVyKQ0KICAgIA0KICAgIGlmICghZm91bmQpIHsNCiAgICAgIHJldHVybiAiIiAgDQogICAgfSANCiAgICANCiAgICANCiAgIHJldHVybiBjb250YWluZXIuZ2V0U3RyaW5nKCJNTUlUVFkiKQ0KICAgICAgDQogIH0NCiAgDQogIA0KICANCiAgLyoNCiAgICAgQ3JlYXRlIHJlY29yZCBpbiBFWFQ2NDAgICAgICAgICAgIC8vIE1XUzY0MFBGDQoJKi8NCiAgcHVibGljIHZvaWQgY3JlYXRlRVhUNjQwKCl7ICANCiAgICAgREJBY3Rpb24gZGJhRVhUNjQwID0gZGF0YWJhc2UudGFibGUoIkVYVDY0MCIpLmluZGV4KCIwMCIpLmJ1aWxkKCkgIA0KICAgICBEQkNvbnRhaW5lciBjb25FWFQ2NDAgPSBkYmFFWFQ2NDAuZ2V0Q29udGFpbmVyKCkNCiAgICAgY29uRVhUNjQwLnNldCgiRVhDT05PIiwgY29tcGFueSkgDQogICAgIGNvbkVYVDY0MC5zZXQoIkVYQ09OTiIsIHNoaXBtZW50KSANCiAgICAgY29uRVhUNjQwLnNldCgiRVhIUFNGIiwgbnVtYmVyT2ZDVUdFWDEpIA0KICAgICBjb25FWFQ2NDAuc2V0KCJFWERMUVQiLCBkZWxpdmVyeVF0eSAtIGFjY05vdEluY2x1ZGVkKSAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlZCB0aGUgRExRVCBmb3IgdGhlIEl0ZW0gd2l0aCBpdGVtdHlwZSAibm90IGluY2x1ZGVkIiwgaS5lLiBtYXJrZWQgaW4gQ1JTMDQwL0NVR0VYMV9DSEIzDQogICAgIGNvbkVYVDY0MC5zZXQoIkVYU0VRTiIsIHNlcXVlbmNlKSANCiAgICAgY29uRVhUNjQwLnNldCgiRVhSR0RUIiwgZW50cnlEYXRlKQ0KICAgICBjb25FWFQ2NDAuc2V0KCJFWExNRFQiLCBlbnRyeURhdGUpDQogICAgIGNvbkVYVDY0MC5zZXQoIkVYUkdUTSIsIGVudHJ5VGltZSkgDQogICAgIGNvbkVYVDY0MC5zZXQoIkVYQ0hOTyIsIDEpIA0KICAgICBjb25FWFQ2NDAuc2V0KCJFWENISUQiLCBwcm9ncmFtLmdldFVzZXIoKSkgDQoNCiAgICAgZGJhRVhUNjQwLmluc2VydChjb25FWFQ2NDApIA0KICAgICAgICAgDQogIH0NCiAgDQogIC8qDQogICAgIENyZWF0ZSByZWNvcmQgaW4gRVhUNjRMICAgICAgICAgLy8gTVdTNjQwUEYNCgkqLw0KICBwdWJsaWMgdm9pZCBjcmVhdGVFWFQ2NEwoKXsgIA0KICAgIGZvciAoaW50IGkgPSAwOyBpIDwgOTk5OTsgaSsrKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICBpZiAoYXJyYXlJdGVtW2ldID09IG51bGwgfHwgYXJyYXlJdGVtW2ldLmlzRW1wdHkoKSl7DQogICAgICAgICAgaSA9IDk5OTkNCiAgICAgICB9ZWxzZXsgIA0KICAgICAgICAgIERCQWN0aW9uIGRiYUVYVDY0TCA9IGRhdGFiYXNlLnRhYmxlKCJFWFQ2NEwiKS5pbmRleCgiMDAiKS5idWlsZCgpICANCiAgICAgICAgICBEQkNvbnRhaW5lciBjb25FWFQ2NEwgPSBkYmFFWFQ2NEwuZ2V0Q29udGFpbmVyKCkNCiAgICAgICAgICBjb25FWFQ2NEwuc2V0KCJFWENPTk8iLCBjb21wYW55KSANCiAgICAgICAgICBjb25FWFQ2NEwuc2V0KCJFWENPTk4iLCBzaGlwbWVudCkgDQogICAgICAgICAgY29uRVhUNjRMLnNldCgiRVhJVE5PIiwgYXJyYXlJdGVtW2ldKSANCiAgICAgICAgICBjb25FWFQ2NEwuc2V0KCJFWE5CSVQiLCBhcnJheU5ick9mSXRlbVtpXSkNCiAgICAgICAgICBjb25FWFQ2NEwuc2V0KCJFWFJHRFQiLCBlbnRyeURhdGUpDQogICAgICAgICAgY29uRVhUNjRMLnNldCgiRVhMTURUIiwgZW50cnlEYXRlKQ0KICAgICAgICAgIGNvbkVYVDY0TC5zZXQoIkVYUkdUTSIsIGVudHJ5VGltZSkgDQogICAgICAgICAgY29uRVhUNjRMLnNldCgiRVhDSE5PIiwgMSkgDQogICAgICAgICAgY29uRVhUNjRMLnNldCgiRVhDSElEIiwgcHJvZ3JhbS5nZXRVc2VyKCkpIA0KDQogICAgICAgICAgZGJhRVhUNjRMLmluc2VydChjb25FWFQ2NEwpICAgDQogICAgICB9ICAgDQogICAgfQ0KICB9DQogIA0KICAgIC8qDQogICAgIENyZWF0ZSByZWNvcmQgaW4gRVhUNjREICAgICAgICAgICAvLyBNV1M2NDBQRg0KCSovDQogIHB1YmxpYyB2b2lkIGNyZWF0ZUVYVDY0RCgpeyAgDQogICAgIGZvciAoaW50IGkgPSAwOyBpIDwgOTk5OTsgaSsrKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICBpZiAoYXJyYXlVTk51bWJlcltpXSA9PSBudWxsIHx8IGFycmF5VU5OdW1iZXJbaV0gPT0gMCl7DQogICAgICAgICAgaSA9IDk5OTkNCiAgICAgICB9ZWxzZXsgIA0KICAgICAgICAgaWYoYXJyYXlEZWxpdmVyeVF0eVtpXSA+IDApew0KICAgICAgICAgICBEQkFjdGlvbiBkYmFFWFQ2NEQgPSBkYXRhYmFzZS50YWJsZSgiRVhUNjREIikuaW5kZXgoIjAwIikuYnVpbGQoKSAgDQogICAgICAgICAgIERCQ29udGFpbmVyIGNvbkVYVDY0RCA9IGRiYUVYVDY0RC5nZXRDb250YWluZXIoKQ0KICAgICAgICAgICBjb25FWFQ2NEQuc2V0KCJFWENPTk8iLCBjb21wYW55KSANCiAgICAgICAgICAgY29uRVhUNjRELnNldCgiRVhDT05OIiwgc2hpcG1lbnQpIA0KICAgICAgICAgICBjb25FWFQ2NEQuc2V0KCJFWFNFUU4iLCBzZXF1ZW5jZSsrKSANCiAgICAgICAgICAgY29uRVhUNjRELnNldCgiRVhVTk5OIiwgYXJyYXlVTk51bWJlcltpXSkNCiAgICAgICAgICAgY29uRVhUNjRELnNldCgiRVhETFFUIiwgYXJyYXlEZWxpdmVyeVF0eVtpXSkNCiAgICAgICAgICAgY29uRVhUNjRELnNldCgiRVhHUldFIiwgYXJyYXlHcm9zc1dlaWdodFtpXSkgDQogICAgICAgICAgIGNvbkVYVDY0RC5zZXQoIkVYUkdEVCIsIGVudHJ5RGF0ZSkNCiAgICAgICAgICAgY29uRVhUNjRELnNldCgiRVhMTURUIiwgZW50cnlEYXRlKQ0KICAgICAgICAgICBjb25FWFQ2NEQuc2V0KCJFWFJHVE0iLCBlbnRyeVRpbWUpIA0KICAgICAgICAgICBjb25FWFQ2NEQuc2V0KCJFWENITk8iLCAxKSANCiAgICAgICAgICAgY29uRVhUNjRELnNldCgiRVhDSElEIiwgcHJvZ3JhbS5nZXRVc2VyKCkpIA0KDQogICAgICAgICAgIGRiYUVYVDY0RC5pbnNlcnQoY29uRVhUNjREKSANCiAgICAgICAgIH0gDQogICAgICAgfSAgDQogICAgIH0gIA0KICB9IA0KICANCiAgDQogICAgDQogLyoNCiAgICByZXRyaWV2ZSBhbmQgY2hlY2sgaW5wdXQgcGFyYW1ldGVycw0KCSovDQoJYm9vbGVhbiByZXRyaWV2ZUlucHV0UGFyYW1ldGVycygpIHsNCgkJY29tcGFueSA9IChJbnRlZ2VyKXByb2dyYW0uZ2V0TERBWkQoKS5DT05PIA0KCQkNCgkJcmV0cmlldmVUb2RheXNEYXRlKCkNCgkJDQoJCXJldHVybiB0cnVlDQoJfQ0KCQ0KICANCiAgLyoNCiAgICBHZXQgdG9kYXlzIGRhdGUNCiAgKi8NCiAgcHVibGljIHZvaWQgcmV0cmlldmVUb2RheXNEYXRlKCkgew0KICAgIExvY2FsRGF0ZVRpbWUgZGF0ZVRpbWUgPSBMb2NhbERhdGVUaW1lLm5vdygpDQogICAgZW50cnlEYXRlID0gZGF0ZVRpbWUuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCkNCiAgICBlbnRyeVRpbWUgPSBkYXRlVGltZS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkudG9JbnRlZ2VyKCkNCiAgfQ0KICANCiAgDQogIA0KfQ=="}}}