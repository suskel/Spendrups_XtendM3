{"programModules":{"EXT040MI":{"program":"EXT040MI","triggers":{},"transactions":{"CompAvailChk":{"sourceUuid":"2ed5206d-5ccd-4bd8-821b-d56f0621ced0","name":"CompAvailChk","program":"EXT040MI","description":"Component available check (PMS040, F15)","active":true,"multi":false,"modified":1731192386243,"modifiedBy":"EXT_SK","outputFields":[],"inputFields":[{"name":"FACI","description":"Facility","length":3,"mandatory":true,"type":"A","refField":null},{"name":"PRNO","description":"Product","length":15,"mandatory":true,"type":"A","refField":null},{"name":"MFNO","description":"MO number","length":10,"mandatory":true,"type":"A","refField":null}],"utilities":[],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"2ed5206d-5ccd-4bd8-821b-d56f0621ced0":{"uuid":"2ed5206d-5ccd-4bd8-821b-d56f0621ced0","updated":1750229978390,"updatedBy":"EXT_SK","created":1731191366847,"createdBy":"EXT_SK","apiVersion":"0.15","beVersion":"16.0.0.20250414161800.4","language":"GROOVY","codeHash":"EE0B4B6FE102FE47945BA55C32259F45A6DA74A721666D158AF288239D5A32FA","code":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiBFeHRlbnNpb24gTmFtZTogRVhUMDQwTUkvQ29tcEF2YWlsQ2hrDQogVHlwZTogRXh0ZW5kTTNUcmFuc2FjdGlvbg0KIFNjcmlwdCBBdXRob3I6IFN1c2FubmEgS2VsbGFuZGVyIC0gRWx2ZW5pdGUNCiBEYXRlOiAyMDI0LTEwLTE0DQogRGVzY3JpcHRpb246IENvbXBvbmVudCBhdmFpbGFibGUgY2hlY2ssIGkuZS4gc2V0IHN0YXR1cyA0MCBpbiBNV09IRUQuIEFzIGRvbmUgaW4gUE1TMDQwLCBGMTUNCiAgICAgICAgICAgICAgRVIgMTEzODI3IGNyZWF0ZWQgZm9yIHRoaXMgcHVycG9zZSwgaW4gbGFjayBvZiBhIHN0YW5kYXJkIEFQSS4gDQogDQoNCiBSZXZpc2lvbiBIaXN0b3J5Og0KIE5hbWUgICAgICAgICAgICAgICAgICAgIERhdGUgICAgICAgICAgICAgVmVyc2lvbiAgICAgICAgICBEZXNjcmlwdGlvbiBvZiBDaGFuZ2VzDQogU3VzYW5uYSBLZWxsYW5kZXIgICAgICAgMjAyNC0xMC0xNCAgICAgICAxLjAgICAgICAgICAgICAgIFNQMDAxNCAtIENvbXBvbmVudCBhdmFpbGFibGUgY2hlY2ssIGkuZS4gc2V0IHN0YXR1cyA0MCBpbiBNV09IRUQuIEFzIGRvbmUgaW4gUE1TMDQwLCBGMTUNCioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZQ0KaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXINCnB1YmxpYyBjbGFzcyBDb21wQXZhaWxDaGsgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsgCSANCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQ0KCXByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UNCglwcml2YXRlIGZpbmFsIExvZ2dlckFQSSBsb2dnZXINCglwcml2YXRlIGZpbmFsIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyIA0KCXByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtDQoJDQoJaW50IGNvbXBhbnkgPSAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCglTdHJpbmcgZmFjaWxpeT0gIiIgICAgICAgICAgICAgICAgICAgICAgICAgDQoJU3RyaW5nIHByb2R1Y3QgPSAiIg0KCVN0cmluZyBtb051bWJlciA9ICIiDQoJIA0KCWJvb2xlYW4gdXBkYXRlTVdPSEVEID0gZmFsc2UNCgkgDQogIGludCBlbnRyeURhdGUgPSAwDQogIGludCBlbnRyeVRpbWUgPSAwDQoJIA0KCSANCglwdWJsaWMgQ29tcEF2YWlsQ2hrKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSxQcm9ncmFtQVBJIHByb2dyYW0sIExvZ2dlckFQSSBsb2dnZXIpIHsNCiAgICAgdGhpcy5taSA9IG1pDQogICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQ0KICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcg0KICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtDQogIH0NCg0KCQ0KICAvKg0KICAgIG1haW4gbWV0aG9kDQogICovDQogIHB1YmxpYyB2b2lkIG1haW4oKSB7ICANCiAgICAgaWYocmV0cmlldmVJbnB1dFBhcmFtZXRlcnMoKSkgeyANCiAgICAgICB1cGRhdGVNV09IRUQoKQ0KICAgICB9IA0KICB9IA0KICAgDQogIC8qDQogICAgIFVwZGF0ZSByZWNvcmQgaW4gTVdPSEVEDQoJKi8NCiAgcHVibGljIHZvaWQgdXBkYXRlTVdPSEVEKCl7IA0KICAgIA0KICAgICBpZiAoY2hlY2tNV09IRUQoKSkgeyAgICAgICAgICAgICAgICAgICAvLyByZWNvcmQgZXhpc3QNCiAgICAgICB1cGRhdGVNV09IRUQgPSBmYWxzZQ0KICAgICAgIERCQWN0aW9uIGRiYU1XT0hFRCA9IGRhdGFiYXNlLnRhYmxlKCJNV09IRUQiKS5pbmRleCgiMDAiKS5idWlsZCgpICANCiAgICAgICBEQkNvbnRhaW5lciBjb25NV09IRUQgPSBkYmFNV09IRUQuZ2V0Q29udGFpbmVyKCkNCiAgICAgICBjb25NV09IRUQuc2V0KCJWSENPTk8iLCBjb21wYW55KSANCiAgICAgICBjb25NV09IRUQuc2V0KCJWSEZBQ0kiLCBmYWNpbGl5KSANCiAgICAgICBjb25NV09IRUQuc2V0KCJWSFBSTk8iLCBwcm9kdWN0KQ0KICAgICAgIGNvbk1XT0hFRC5zZXQoIlZITUZOTyIsIG1vTnVtYmVyKSAgDQogICAgICAgZGJhTVdPSEVELnJlYWRMb2NrKGNvbk1XT0hFRCwgdXBkYXRlQ2FsbEJhY2tNV09IRUQpIA0KICAgICB9ICAgIA0KICB9ICANCiAgICAgIA0KICBDbG9zdXJlPD8+IHVwZGF0ZUNhbGxCYWNrTVdPSEVEID0geyBMb2NrZWRSZXN1bHQgbG9ja2VkUmVzdWx0IC0+ICANCiAgICAgaWYobG9ja2VkUmVzdWx0LmdldCgiVkhXSFNUIikudG9TdHJpbmcoKSA8ICI0MCIpew0KICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIlZIV0hTVCIsICI0MCIpIA0KICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIlZIU0xEVCIsIGVudHJ5RGF0ZSkgIA0KICAgICAgIHVwZGF0ZU1XT0hFRCA9IHRydWUNCiAgICAgfQ0KICAgICBpZihsb2NrZWRSZXN1bHQuZ2V0KCJWSFdISFMiKS50b1N0cmluZygpIDwgIjQwIil7DQogICAgICAgbG9ja2VkUmVzdWx0LnNldCgiVkhXSEhTIiwgIjQwIikgDQogICAgICAgbG9ja2VkUmVzdWx0LnNldCgiVkhIU0RUIiwgZW50cnlEYXRlKSAgDQogICAgICAgdXBkYXRlTVdPSEVEID0gdHJ1ZQ0KICAgICB9DQogICAgIGlmKHVwZGF0ZU1XT0hFRCl7DQogICAgICAgaW50IGNoYW5nZU5vID0gbG9ja2VkUmVzdWx0LmdldCgiVkhDSE5PIikNCiAgICAgICBpbnQgbmV3Q2hhbmdlTm8gPSBjaGFuZ2VObyArIDEgDQogICAgICAgbG9ja2VkUmVzdWx0LnNldCgiVkhMTURUIiwgZW50cnlEYXRlKSANCiAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJWSENITk8iLCBuZXdDaGFuZ2VObykgDQogICAgICAgbG9ja2VkUmVzdWx0LnNldCgiVkhDSElEIiwgcHJvZ3JhbS5nZXRVc2VyKCkpICAgIA0KICAgICAgIGxvY2tlZFJlc3VsdC51cGRhdGUoKSANCiAgICAgfQ0KICB9ICAgDQogDQogIC8qDQogICAgcmV0cmlldmUgYW5kIGNoZWNrIGlucHV0IHBhcmFtZXRlcnMNCgkqLw0KCWJvb2xlYW4gcmV0cmlldmVJbnB1dFBhcmFtZXRlcnMoKSB7ICANCgkgIA0KCQkgY29tcGFueSA9IChJbnRlZ2VyKXByb2dyYW0uZ2V0TERBWkQoKS5DT05PICAgICAgCQ0KICAgDQogICAgIGZhY2lsaXkgPSByZW1vdmVOdWxsZnJvbVN0cmluZ09iamVjdChtaS5pbi5nZXQoIkZBQ0kiKSkgIA0KICAgICBwcm9kdWN0ID0gcmVtb3ZlTnVsbGZyb21TdHJpbmdPYmplY3QobWkuaW4uZ2V0KCJQUk5PIikpICANCiAgICAgbW9OdW1iZXIgPSByZW1vdmVOdWxsZnJvbVN0cmluZ09iamVjdChtaS5pbi5nZXQoIk1GTk8iKSkgIA0KICAgIA0KIA0KICAgICByZXRyaWV2ZVRvZGF5c0RhdGUoKSAgICANCiAgICANCiAgICANCiAgICAgcmV0dXJuIHRydWUgDQoJfSANCgkNCgkgDQogDQogIC8qDQogICAgUmV0dXJuIHRydWUgaWYgcmVjb3JkIGV4aXN0LiANCiAgKi8NCiAgYm9vbGVhbiBjaGVja01XT0hFRCgpIHsNCiAgICANCiAgICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTVdPSEVEIikuaW5kZXgoIjAwIikuYnVpbGQoKSAgDQogICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpDQogICAgIGNvbnRhaW5lci5zZXQoIlZIQ09OTyIsIGNvbXBhbnkpIA0KICAgICBjb250YWluZXIuc2V0KCJWSEZBQ0kiLCBmYWNpbGl5KSANCiAgICAgY29udGFpbmVyLnNldCgiVkhQUk5PIiwgcHJvZHVjdCkNCiAgICAgY29udGFpbmVyLnNldCgiVkhNRk5PIiwgbW9OdW1iZXIpIA0KICAgICAgDQogICAgIGJvb2xlYW4gZm91bmQgPSBxdWVyeS5yZWFkKGNvbnRhaW5lcikNCiAgICANCiAgICAgaWYgKCFmb3VuZCkgIHsNCiAgICAgICByZXR1cm4gZmFsc2UgIA0KICAgICB9DQogICAgICANCiAgICAgcmV0dXJuIHRydWUNCiAgfQ0KICANCiAgIA0KICAvKg0KICAgIEdldCB0b2RheXMgZGF0ZQ0KICAqLw0KICBwdWJsaWMgdm9pZCByZXRyaWV2ZVRvZGF5c0RhdGUoKSB7DQogICAgIExvY2FsRGF0ZVRpbWUgZGF0ZVRpbWUgPSBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZS5ub3coKQ0KICAgICBlbnRyeURhdGUgPSBkYXRlVGltZS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKQ0KICAgICBlbnRyeVRpbWUgPSBkYXRlVGltZS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkudG9JbnRlZ2VyKCkNCiAgfQ0KICANCiANCiAgLyoNCiAgICBjaGVjayBpZiBmaWVsZCBmcm9tIE1JIGlzIG51bGwuIFJldHVybiBlbXB0eSBzdHJpbmcgaW4gdGhhdCBjYXNlDQogICovIA0KICAgU3RyaW5nIHJlbW92ZU51bGxmcm9tU3RyaW5nT2JqZWN0KE9iamVjdCBmaWVsZCl7DQogICAgIGlmIChmaWVsZCA9PSBudWxsKSB7ICANCiAgICAgICByZXR1cm4gIiINCiAgICAgfSBlbHNlIHsNCiAgICAgICByZXR1cm4gZmllbGQNCiAgICAgfQ0KICAgfSANCiAgIA0KICANCiAgDQp9IA0KIA=="}}}