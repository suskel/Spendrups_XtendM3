{"programModules":{"EXT101MI":{"program":"EXT101MI","triggers":{},"transactions":{"LstWeigPerPac":{"sourceUuid":"5e322ce5-1d24-4627-9656-6c01c829d5b0","name":"LstWeigPerPac","program":"EXT101MI","description":"Sum of weights and specifikation on package types in MMS101","active":true,"multi":true,"modified":1752561397836,"modifiedBy":"EXT_SK","outputFields":[{"name":"TRNR","description":"Ordernumber","length":10,"mandatory":false,"type":"A","refField":null},{"name":"CODE","description":"Pantkod","length":10,"mandatory":false,"type":"A","refField":null},{"name":"ITDS","description":"Pantkod description","length":30,"mandatory":false,"type":"A","refField":null},{"name":"TRQT","description":"Quantity","length":17,"mandatory":false,"type":"N","refField":null},{"name":"GRWE","description":"Weight","length":17,"mandatory":false,"type":"N","refField":null},{"name":"TOTQ","description":"Total qty","length":17,"mandatory":false,"type":"N","refField":null},{"name":"NBPA","description":"Number of pallet","length":7,"mandatory":false,"type":"N","refField":null}],"inputFields":[{"name":"TRNR","description":"Ordernumber","length":10,"mandatory":true,"type":"A","refField":null}],"utilities":[],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"5e322ce5-1d24-4627-9656-6c01c829d5b0":{"uuid":"5e322ce5-1d24-4627-9656-6c01c829d5b0","updated":1752561516283,"updatedBy":"EXT_SK","created":1744062194224,"createdBy":"EXT_SK","apiVersion":"0.21","beVersion":"16.0.0.20250521011729.6","language":"GROOVY","codeHash":"003355EB66CF2A16AEF89415CDEABD5D0D41A117BC688EF036E28BF88F172D4A","code":"LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiBFeHRlbnNpb24gTmFtZTogRVhUMTAxTUkvTHN0V2VpZ1BlclBhYw0KIFR5cGU6IEV4dGVuZE0zVHJhbnNhY3Rpb24NCiBTY3JpcHQgQXV0aG9yOiBTdXNhbm5hIEtlbGxhbmRlciAtIEVsdmVuaXRlDQogRGF0ZTogMjAyNS0wNC0wMQ0KIERlc2NyaXB0aW9uOiBTdW1tYXJpemUgd2VpZ2h0IGFuZCBzcGVjaWZpY2F0aW9uIHBlciBwYWNrYWdlIHR5cGUgaW4gTU1TMTAxLiANCiAgICAgICAgICAgICAgVXNlZCB2aWEgSDVTY3JpcHQgICANCg0KIFJldmlzaW9uIEhpc3Rvcnk6DQogTmFtZSAgICAgICAgICAgICAgICAgICAgRGF0ZSAgICAgICAgICAgICBWZXJzaW9uICAgICAgICAgIERlc2NyaXB0aW9uIG9mIENoYW5nZXMNCiBTdXNhbm5hIEtlbGxhbmRlciAgICAgICAyMDI1LTA0LTAxICAgICAgIDEuMCAgICAgICAgICAgICAgU1AwMDM4IC0gU3VtbWFyaXplIHdlaWdodCBhbmQgc3BlY2lmaWNhdGlvbiBwZXIgcGFja2FnZSB0eXBlIGluIE1NUzEwMSANCioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCnB1YmxpYyBjbGFzcyBMc3RXZWlnUGVyUGFjIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7IA0KICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pDQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW0NCiAgcHJpdmF0ZSBmaW5hbCBMb2dnZXJBUEkgbG9nZ2VyIA0KICANCiAgaW50IGNvbXBhbnkgPSAwDQogIFN0cmluZyBvcmRlck51bWJlciA9ICIiIA0KICANCiAgU3RyaW5nIGNvZGUgPSAiIg0KICBTdHJpbmcgc3RvcmFnZVBhY2thZ2luZyA9ICIiDQogIFN0cmluZyBkZXNjcmlwdGlvbiA9ICIiDQogIGRvdWJsZSBjb252ZXJzaW9uRmFjdG9yID0gMCANCiAgaW50IGNvbnZlcnNpb25Gb3JtID0gMCAgDQogIGRvdWJsZSBwYWNrYWdlV2VpZ2h0ID0gMA0KICANCiAgU3RyaW5nW10gYXJyQ29kZSA9IG5ldyBTdHJpbmdbOTldIA0KICBkb3VibGVbXSBhcnJRdWFuaXR5ID0gbmV3IGRvdWJsZVs5OV0NCiAgZG91YmxlW10gYXJyV2VpZ2h0ID0gbmV3IGRvdWJsZVs5OV0NCiAgZG91YmxlW10gYXJyTm9PZlBhbGxldHMgPSBuZXcgZG91YmxlWzk5XQ0KICBkb3VibGVbXSBhcnJUb3RhbFF1YW50aXR5ID0gbmV3IGRvdWJsZVs5OV0NCiAgaW50IGNvdW50ZXIgPSAwIA0KICBpbnQgYXJyYXlJbmRleCA9IDAgDQogIA0KICBTdHJpbmcgZGVmYXVsdFVuaXQgPSAiUEFMIg0KICBpbnQgZGVmYXVsdFVuaXRUeXBlID0gMQ0KICANCiAgaW50IGVudHJ5RGF0ZSA9IDANCiAgaW50IGVudHJ5VGltZSA9IDANCiAgDQogIA0KICBwdWJsaWMgTHN0V2VpZ1BlclBhYyhNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTG9nZ2VyQVBJIGxvZ2dlcikgew0KICAgIHRoaXMubWkgPSBtaQ0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQ0KICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0NCiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlciANCiAgfSAgIA0KICANCiAgLyoNCiAgICBtYWluIG1ldGhvZA0KICAqLw0KICBwdWJsaWMgdm9pZCBtYWluKCkgeyAgIA0KICAgIGlmKHJldHJpZXZlSW5wdXRQYXJhbWV0ZXJzKCkpIHsNCiAgICAgIHByb2Nlc3MoKQ0KICAgIH0gDQogIH0gDQogICANCiAgIA0KICAgICANCiAgLyoNCiAgICBwcm9jZXNzIC0gc3RhcnQgdGhlIHByb2Nlc3MNCiAgKi8NCiAgcHVibGljIHZvaWQgcHJvY2VzcygpIHsgICANCiAgICBsb29wTUdMSU5FKG9yZGVyTnVtYmVyKQ0KICAgIHNlbmRPdXRwdXQoKQ0KICB9ICANCiAgICANCiAgICAgICAgDQogICANCiAgLyoNCiAgICBsb29wTUdMSU5FIC0gbG9vcCBNR0xJTkUNCiAgKi8NCiAgcHVibGljIHZvaWQgbG9vcE1HTElORShTdHJpbmcgaW5UUk5SKSB7ICAgDQogICAgICAgIA0KICAgIERCQWN0aW9uIHFyeU1HTElORSA9IGRhdGFiYXNlLnRhYmxlKCJNR0xJTkUiKS5zZWxlY3Rpb24oIk1SSVROTyIsICJNUldITE8iLCAiTVJUUlFUIiwgIk1SR1JXRSIpLmluZGV4KCIwMCIpLmJ1aWxkKCkNCiAgICBEQkNvbnRhaW5lciBjb25NR0xJTkUgPSBxcnlNR0xJTkUuZ2V0Q29udGFpbmVyKCkNCiAgICBjb25NR0xJTkUuc2V0KCJNUkNPTk8iLCBjb21wYW55KQ0KICAgIGNvbk1HTElORS5zZXQoIk1SVFJOUiIsIG9yZGVyTnVtYmVyKSANCiAgICBxcnlNR0xJTkUucmVhZEFsbChjb25NR0xJTkUsIDIsIDEwMDAsIHJlc3VsdEhhbmRsZXJGb3JNR0xJTkUpICANCiAgfSAgIA0KICAgIA0KICBDbG9zdXJlPD8+IHJlc3VsdEhhbmRsZXJGb3JNR0xJTkUgPSB7IERCQ29udGFpbmVyIGNvbk1HTElORSAtPiAgDQogICBwYWNrYWdlV2VpZ2h0ID0gMCANCiAgIHNlbGVjdEluZm9ybWF0aW9uKGNvbk1HTElORSkgDQogICANCiAgICANCiAgfSAgDQogICAgDQogIC8qDQogICAgc2VsZWN0SW5mb3JtYXRpb24gDQogICovDQogIHB1YmxpYyB2b2lkIHNlbGVjdEluZm9ybWF0aW9uKERCQ29udGFpbmVyIGNvbnRhaW5lcikgeyAgIA0KICAgIA0KICAgIGdldE1JVE1BUyhjb250YWluZXIuZ2V0U3RyaW5nKCJNUklUTk8iKSwgIklURU0iKSAgICAgICAgICAgICAgICAgLy8gZ2V0IGZvciBvcmlnaW5hbCBpdGVtbnVtYmVyIA0KICAgIGdldE1JVEFVTihjb250YWluZXIuZ2V0U3RyaW5nKCJNUklUTk8iKSwgZGVmYXVsdFVuaXRUeXBlLCBkZWZhdWx0VW5pdCkNCiAgICANCiAgICBsb2dnZXIuZGVidWcoIiBzdG9yYWdlUGFja2FnaW5nLmxlbmd0aCgpICIgKyBzdG9yYWdlUGFja2FnaW5nLmxlbmd0aCgpICsgIiBzdG9yYWdlUGFja2FnaW5nICIgKyBzdG9yYWdlUGFja2FnaW5nKQ0KICAgIGlmKHN0b3JhZ2VQYWNrYWdpbmcubGVuZ3RoKCkgPiAxKXsNCiAgICAgIFN0cmluZyBwYXJ0MSA9IHN0b3JhZ2VQYWNrYWdpbmcuc3Vic3RyaW5nKDAsIDEpDQogICAgICBsb2dnZXIuZGVidWcoIiBwYXJ0MSAiICsgcGFydDEpDQogICAgICBjYWxjdWxhdGVBbmRBZGRUb0FycmF5KGNvZGUsIGdldE1JVFBBQyhwYXJ0MSksIGNvbnRhaW5lciwgMCkNCiAgICAgIFN0cmluZyBwYXJ0MiA9IHN0b3JhZ2VQYWNrYWdpbmcuc3Vic3RyaW5nKDEsIHN0b3JhZ2VQYWNrYWdpbmcubGVuZ3RoKCkpDQogICAgICBsb2dnZXIuZGVidWcoIiBwYXJ0MiAiICsgcGFydDIpIA0KICAgICAgY2FsY3VsYXRlQW5kQWRkVG9BcnJheShjb2RlLCBnZXRNSVRQQUMocGFydDIpLCBjb250YWluZXIsIDEgKSAgICAgICAgICAgICAgICAgICAvLyB1c2Ugc2Vjb25kIHBvc2l0aW9uIGZvciBsYXN0IGNvbnZlcnNpb24gDQogICAgfWVsc2V7DQogICAgICBnZXRNSVRQQUMoc3RvcmFnZVBhY2thZ2luZykgDQogICAgICBjYWxjdWxhdGVBbmRBZGRUb0FycmF5KGNvZGUsIGdldE1JVFBBQyhzdG9yYWdlUGFja2FnaW5nKSAsIGNvbnRhaW5lciwgMCkNCiAgICB9DQogICAgDQogIH0NCiAgDQogIC8qDQogICAgY2FsY3VsYXRlQW5kQWRkVG9BcnJheSANCiAgKi8NCiAgcHVibGljIHZvaWQgY2FsY3VsYXRlQW5kQWRkVG9BcnJheShTdHJpbmcgaW5DRkkxLCBkb3VibGUgd2VpZ2h0LCBEQkNvbnRhaW5lciBjb250YWluZXIsIGludCBpblRZUEUgKSB7ICANCiAgICAgDQogICAgYXJyYXlJbmRleCA9IGFyckNvZGUuZmluZEluZGV4T2Z7aXQgPT0gaW5DRkkxfSAgDQogICAgaWYoYXJyYXlJbmRleCA+PSAwKXsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb2RlIGZvdW5kIGluIGFycmF5LCBhY2N1bXVsYXRlIHZhbHVlcw0KICAgICAgaWYoaW5UWVBFID09IDApeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBjYWxjdWxhdGUgb25jZQ0KICAgICAgICBhcnJRdWFuaXR5W2FycmF5SW5kZXhdICs9IGNvbnRhaW5lci5nZXREb3VibGUoIk1SVFJRVCIpDQogICAgICAgIGFycldlaWdodFthcnJheUluZGV4XSArPSBjb250YWluZXIuZ2V0RG91YmxlKCJNUkdSV0UiKQ0KICAgICAgfQ0KICAgICAgaWYoaW5UWVBFID09IDApeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGNhbGN1bGF0ZSBvbmNlDQogICAgICAgIGlmKGNvbnZlcnNpb25GYWN0b3IgPiAwKXsNCiAgICAgICAgICBpZihjb252ZXJzaW9uRm9ybSA9PSAxKXsgDQogICAgICAgICAgICAgYXJyTm9PZlBhbGxldHNbYXJyYXlJbmRleF0gKz0gKCgoZG91YmxlKWNvbnRhaW5lci5nZXREb3VibGUoIk1SVFJRVCIpIC8gY29udmVyc2lvbkZhY3RvcikgKSAgIA0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgIGFyck5vT2ZQYWxsZXRzW2FycmF5SW5kZXhdICs9ICgoKGRvdWJsZSljb250YWluZXIuZ2V0RG91YmxlKCJNUlRSUVQiKSAqIGNvbnZlcnNpb25GYWN0b3IpICkgICANCiAgICAgICAgICB9DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICBhcnJOb09mUGFsbGV0c1thcnJheUluZGV4XSArPSAoZG91YmxlKWNvbnRhaW5lci5nZXREb3VibGUoIk1SVFJRVCIpICANCiAgICAgICAgfSANCiAgICAgIH0gDQogICAgICANCiAgICAgIGlmKGluVFlQRSA9PSAwKXsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBjYWxjdWxhdGUgb25jZQ0KICAgICAgICAgYXJyVG90YWxRdWFudGl0eVthcnJheUluZGV4XSArPSBjb250YWluZXIuZ2V0RG91YmxlKCJNUkdSV0UiKSArIChhcnJOb09mUGFsbGV0c1thcnJheUluZGV4XSAgKiB3ZWlnaHQpIA0KICAgICAgfWVsc2V7DQogICAgICAgICBhcnJUb3RhbFF1YW50aXR5W2FycmF5SW5kZXhdICs9IChkb3VibGUpY29udGFpbmVyLmdldERvdWJsZSgiTVJUUlFUIikgICogd2VpZ2h0ICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvciBzZWNvbmQgbGV0dGVyLCB1c2UgcXR5IGZyb20gTUdMSU5FDQogICAgICB9DQogICAgICANCiAgICAgIGxvZ2dlci5kZWJ1ZygiVXBkYXRlIGFyckNvZGVbYXJyYXlJbmRleF0gIiArIGFyckNvZGVbYXJyYXlJbmRleF0gKQ0KICAgICAgbG9nZ2VyLmRlYnVnKCJhcnJRdWFuaXR5W2FycmF5SW5kZXhdICIgKyBhcnJRdWFuaXR5W2FycmF5SW5kZXhdICkNCiAgICAgIGxvZ2dlci5kZWJ1ZygiYXJyV2VpZ2h0W2FycmF5SW5kZXhdICIgKyBhcnJXZWlnaHRbYXJyYXlJbmRleF0gKQ0KICAgICAgbG9nZ2VyLmRlYnVnKCJhcnJOb09mUGFsbGV0c1thcnJheUluZGV4XSAiICsgYXJyTm9PZlBhbGxldHNbYXJyYXlJbmRleF0gKQ0KICAgICAgbG9nZ2VyLmRlYnVnKCJhcnJUb3RhbFF1YW50aXR5W2FycmF5SW5kZXhdICIgKyBhcnJUb3RhbFF1YW50aXR5W2FycmF5SW5kZXhdICkgICAgDQogICAgICANCiAgICB9ZWxzZXsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvZGUgbm90IGZvdW5kIGluIGFycmF5LCB3cml0ZSBhIG5ldyByZWNvcmQNCiAgICAgIGxvZ2dlci5kZWJ1ZygiIGNvbnZlcnNpb25GYWN0b3IgIisgY29udmVyc2lvbkZhY3RvciArICIgY29udmVyc2lvbkZvcm0gIisgY29udmVyc2lvbkZvcm0gKyAiIHN1bW1hICIgKyAoKGRvdWJsZSljb250YWluZXIuZ2V0RG91YmxlKCJNUlRSUVQiKSAvIGNvbnZlcnNpb25GYWN0b3IpKQ0KICAgICAgYXJyQ29kZVtjb3VudGVyXSA9IGluQ0ZJMSAgIA0KICAgICAgYXJyUXVhbml0eVtjb3VudGVyXSA9IGNvbnRhaW5lci5nZXREb3VibGUoIk1SVFJRVCIpDQogICAgICBhcnJXZWlnaHRbY291bnRlcl0gPSBjb250YWluZXIuZ2V0RG91YmxlKCJNUkdSV0UiKQ0KICAgICAgaWYoaW5UWVBFID09IDApeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGNhbGN1bGF0ZSBvbmNlDQogICAgICAgIGlmKGNvbnZlcnNpb25GYWN0b3IgPiAwKXsNCiAgICAgICAgICAgaWYoY29udmVyc2lvbkZvcm0gPT0gMSl7DQogICAgICAgICAgICAgYXJyTm9PZlBhbGxldHNbY291bnRlcl0gPSAoKChkb3VibGUpY29udGFpbmVyLmdldERvdWJsZSgiTVJUUlFUIikgLyBjb252ZXJzaW9uRmFjdG9yKSApICAgDQogICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgIGFyck5vT2ZQYWxsZXRzW2NvdW50ZXJdID0gKCgoZG91YmxlKWNvbnRhaW5lci5nZXREb3VibGUoIk1SVFJRVCIpICogY29udmVyc2lvbkZhY3RvcikgKSAgDQogICAgICAgICAgIH0NCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgYXJyTm9PZlBhbGxldHNbY291bnRlcl0gPSAoZG91YmxlKWNvbnRhaW5lci5nZXREb3VibGUoIk1SVFJRVCIpIA0KICAgICAgICB9IA0KICAgICAgfSANCiAgICAgIGlmKGluVFlQRSA9PSAwKXsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBjYWxjdWxhdGUgb25jZSANCiAgICAgICAgYXJyVG90YWxRdWFudGl0eVtjb3VudGVyXSA9IGNvbnRhaW5lci5nZXREb3VibGUoIk1SR1JXRSIpICsgKGFyck5vT2ZQYWxsZXRzW2NvdW50ZXJdICogd2VpZ2h0KSANCiAgICAgIH1lbHNlew0KICAgICAgICBhcnJUb3RhbFF1YW50aXR5W2FycmF5SW5kZXhdICs9IHdlaWdodCAgKiAoZG91YmxlKWNvbnRhaW5lci5nZXREb3VibGUoIk1SVFJRVCIpICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3Igc2Vjb25kIGxldHRlciwgdXNlIHF0eSBmcm9tIE1HTElORQ0KICAgICAgfQ0KICAgICAgDQogICAgICBsb2dnZXIuZGVidWcoIk1SR1JXRSAiICsgY29udGFpbmVyLmdldERvdWJsZSgiTVJHUldFIikgKyAiIHBhY2thZ2VXZWlnaHQgIiArIHdlaWdodCkNCiAgICAgIGxvZ2dlci5kZWJ1ZygiTmV3IGFyckNvZGVbY291bnRlcl0gIiArIGFyckNvZGVbY291bnRlcl0gKQ0KICAgICAgbG9nZ2VyLmRlYnVnKCJhcnJRdWFuaXR5W2NvdW50ZXJdICIgKyBhcnJRdWFuaXR5W2NvdW50ZXJdICkNCiAgICAgIGxvZ2dlci5kZWJ1ZygiYXJyV2VpZ2h0W2NvdW50ZXJdICIgKyBhcnJXZWlnaHRbY291bnRlcl0gKQ0KICAgICAgbG9nZ2VyLmRlYnVnKCJhcnJOb09mUGFsbGV0c1tjb3VudGVyXSAiICsgYXJyTm9PZlBhbGxldHNbY291bnRlcl0gKQ0KICAgICAgbG9nZ2VyLmRlYnVnKCJhcnJUb3RhbFF1YW50aXR5W2NvdW50ZXJdICIgKyBhcnJUb3RhbFF1YW50aXR5W2NvdW50ZXJdICkgDQogICAgICAgICAgDQogICAgICBjb3VudGVyKysNCiAgIA0KICAgIH0gDQogICAgDQogIH0NCiAgICAgDQogIC8qDQogICAgcmV0cmlldmUgYW5kIGNoZWNrIGlucHV0IHBhcmFtZXRlcnMgDQoJKi8NCglib29sZWFuIHJldHJpZXZlSW5wdXRQYXJhbWV0ZXJzKCkgew0KCSAgIA0KCQljb21wYW55ID0gKEludGVnZXIpcHJvZ3JhbS5nZXRMREFaRCgpLkNPTk8gIA0KICAgIG9yZGVyTnVtYmVyID0gcmVtb3ZlTnVsbGZyb21TdHJpbmdPYmplY3QobWkuaW4uZ2V0KCJUUk5SIikpICANCiAgICANCiAgICByZXR1cm4gdHJ1ZQ0KCX0NCgkNCgkgIA0KICAgLyoNCiAgICAgR2V0IHZhbHVlIGZyb20gTUlUTUFTDQogICovDQogIHB1YmxpYyB2b2lkIGdldE1JVE1BUyhTdHJpbmcgaW5JVE5PLCBTdHJpbmcgaW5UWVBFKSB7IA0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk1JVE1BUyIpLnNlbGVjdGlvbigiTU1DRkkxIiwgIk1NU1BBQyIsICJNTUlURFMiKS5pbmRleCgiMDAiKS5idWlsZCgpDQogICAgDQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkNCiAgICBjb250YWluZXIuc2V0KCJNTUNPTk8iLCBjb21wYW55KQ0KICAgIGNvbnRhaW5lci5zZXQoIk1NSVROTyIsIGluSVROTykgDQogICAgDQogICAgYm9vbGVhbiBmb3VuZCA9IHF1ZXJ5LnJlYWQoY29udGFpbmVyKQ0KICAgIA0KICAgIGlmICghZm91bmQpICB7DQogICAgICByZXR1cm4gICANCiAgICB9IA0KICAgIA0KICAgIGlmKGluVFlQRSA9PSAiSVRFTSIpew0KICAgICAgY29kZSA9IGNvbnRhaW5lci5nZXRTdHJpbmcoIk1NQ0ZJMSIpICAgICAgICAgICAgICAgICAgICAgLy8gcGFudGtvZA0KICAgICAgc3RvcmFnZVBhY2thZ2luZyA9IGNvbnRhaW5lci5nZXRTdHJpbmcoIk1NU1BBQyIpICAgICANCiAgICB9ZWxzZSBpZihpblRZUEUgPT0gIkNPREUiKXsgDQogICAgICBkZXNjcmlwdGlvbiA9IGNvbnRhaW5lci5nZXRTdHJpbmcoIk1NSVREUyIpDQogICAgfSAgDQogIH0gDQogDQogICAvKg0KICAgICBHZXQgdmFsdWUgZnJvbSBNSVRQQUMNCiAgKi8NCiAgZG91YmxlIGdldE1JVFBBQyhTdHJpbmcgaW5QQUNUKSB7IA0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk1JVFBBQyIpLnNlbGVjdGlvbigiTTRWT01UIikuaW5kZXgoIjAwIikuYnVpbGQoKQ0KICAgIA0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpDQogICAgY29udGFpbmVyLnNldCgiTTRDT05PIiwgY29tcGFueSkNCiAgICBjb250YWluZXIuc2V0KCJNNFBBQ1QiLCBpblBBQ1QpIA0KICAgIA0KICAgIGJvb2xlYW4gZm91bmQgPSBxdWVyeS5yZWFkKGNvbnRhaW5lcikNCiAgICANCiAgICBpZiAoIWZvdW5kKSAgew0KICAgICAgcmV0dXJuICAgDQogICAgfSAgDQogICAgDQogICAgDQogICAgcmV0dXJuIChkb3VibGUpY29udGFpbmVyLmdldERvdWJsZSgiTTRWT01UIikgDQogICAgDQogIH0gDQoNCg0KICAgLyoNCiAgICAgR2V0IHZhbHVlIGZyb20gTUlUQVVODQogICovDQogIHB1YmxpYyB2b2lkIGdldE1JVEFVTihTdHJpbmcgaW5JVE5PLCBpbnQgaW5BVVRQLCBTdHJpbmcgaW5BTFVOKSB7IA0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk1JVEFVTiIpLnNlbGVjdGlvbigiTVVDT0ZBIiwgIk1VRE1DRiIpLmluZGV4KCIwMCIpLmJ1aWxkKCkNCiAgICANCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQ0KICAgIGNvbnRhaW5lci5zZXQoIk1VQ09OTyIsIGNvbXBhbnkpDQogICAgY29udGFpbmVyLnNldCgiTVVJVE5PIiwgaW5JVE5PKSANCiAgICBjb250YWluZXIuc2V0KCJNVUFVVFAiLCBpbkFVVFApIA0KICAgIGNvbnRhaW5lci5zZXQoIk1VQUxVTiIsIGluQUxVTikgDQogICAgDQogICAgYm9vbGVhbiBmb3VuZCA9IHF1ZXJ5LnJlYWQoY29udGFpbmVyKQ0KICAgIA0KICAgIGlmICghZm91bmQpICB7DQogICAgICByZXR1cm4gICANCiAgICB9IA0KICAgICANCiAgICBjb252ZXJzaW9uRmFjdG9yID0gY29udGFpbmVyLmdldERvdWJsZSgiTVVDT0ZBIikgIA0KICAgIGNvbnZlcnNpb25Gb3JtID0gY29udGFpbmVyLmdldEludCgiTVVETUNGIikNCiAgfSANCg0KDQogIC8qDQogICAgIHNlbmRPdXRwdXQNCiAgKi8NCiAgcHVibGljIHZvaWQgc2VuZE91dHB1dCgpIHsgDQogICAgICAgDQogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBjb3VudGVyOyBpKyspIHsgIA0KICAgICAgbWkub3V0RGF0YS5wdXQoIlRSTlIiLCBvcmRlck51bWJlcikNCiAgICAgIG1pLm91dERhdGEucHV0KCJDT0RFIiwgYXJyQ29kZVtpXSkNCiAgICAgIGdldE1JVE1BUyhhcnJDb2RlW2ldLCAiQ09ERSIpDQogICAgICBtaS5vdXREYXRhLnB1dCgiSVREUyIsIGRlc2NyaXB0aW9uKQ0KICAgICAgbWkub3V0RGF0YS5wdXQoIlRSUVQiLCBhcnJRdWFuaXR5W2ldLnRvU3RyaW5nKCkpDQogICAgICBtaS5vdXREYXRhLnB1dCgiR1JXRSIsIGFycldlaWdodFtpXS5yb3VuZCgyKS50b1N0cmluZygpKSANCiAgICAgIG1pLm91dERhdGEucHV0KCJOQlBBIiwgYXJyTm9PZlBhbGxldHNbaV0ucm91bmQoMSkudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJUT1RRIiwgYXJyVG90YWxRdWFudGl0eVtpXS5yb3VuZCgyKS50b1N0cmluZygpKQ0KICAgICAgbWkud3JpdGUoKQ0KICAgIH0gDQogICAgDQogIH0gICANCiAgICANCiAgDQogICANCiAgIC8vIGNoZWNrIGlmIGZpZWxkIGZyb20gTUkgaXMgbnVsbC4gUmV0dXJuIHplcm8gaW4gdGhhdCBjYXNlDQogICAgU3RyaW5nIHJlbW92ZU51bGxmcm9tU3RyaW5nT2JqZWN0KE9iamVjdCBmaWVsZCl7DQogICAgIGlmIChmaWVsZCA9PSBudWxsKSB7ICANCiAgICAgICByZXR1cm4gIiINCiAgICAgfSBlbHNlIHsNCiAgICAgICByZXR1cm4gZmllbGQNCiAgICAgfQ0KICAgfQ0KICAgICANCg0KfQ=="}}}